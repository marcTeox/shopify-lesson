
{{ 'section-pagination.css' | asset_url | stylesheet_tag }}
{% assign active_collection = collection | default: section.settings.collection %}

  
  <section id="{{ section.id }}">
    <div>
      <h1>{{ active_collection.title }}</h1>
      <p>{{ active_collection.description }}</p>
    </div>
    <div class="collection-filter__header">
      <h2>Filters</h2>
    </div>
    <div class="collection-body" data-collection-body>
    <div class="collection-filter__content">
      {% for filter in collection.filters %}
      <p>This all the types: {{ filter.type }}</p>
        <div class="collection-filter">
          <h3>{{ filter.label }}</h3>
          {% if filter.type == 'list' %}
            <collection-filter data-section-id="{{ section.id }}" data-filter-param="{{ filter.param }}">
              <div class="collection_filter__options">
              {%  for option in filter.values %}
                <input
                  type="checkbox"
                  id="filter-id-{{ option.label }}"
                  name="filter-{{ filter.label | handle }}[]"
                  value="{{ option.value | handle }}"
                  data-add-url="{{ option.url_to_add }}"
                  data-remove-url="{{ option.url_to_remove }}"
                  {% if option.active %}checked{% endif %}>
                  <label for="filter-id-{{ option.label }}">
                    {{ option.label }} ({{ option.count }})
                  </label>
              {% endfor %}
              </div>
            </collection-filter>
          {%  endif %}

          {%  if filter.type == 'price_range' %}
            <div className="filter-group-display__price-range">
              <div className="filter-group-display__price-range-from">
                <span>{{ cart.currency.symbol }}</span>

                <input name="{{ filter.min_value.param_name }}"
                  id="Filter-{{ filter.min_value.param_name }}"
                  {% if filter.min_value.value -%}
                    value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"
                  {%- endif %}
                  type="number"
                  placeholder="0"
                  min="0"
                  max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                 />

                <label for="Filter-{{ filter.min_value.param_name }}">From</label>
              </div>
              <div className="filter-group-display__price-range-to">
                <span>{{ cart.currency.symbol }}</span>

                <input name="{{ filter.max_value.param_name }}"
                  id="Filter-{{ filter.max_value.param_name }}"
                  {% if filter.max_value.value -%}
                    value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"
                  {%- endif %}
                  type="number"
                  placeholder="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                  min="0"
                  max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                 />

                <label for="Filter-{{ filter.max_value.param_name }}">To</label>
              </div>
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  
    <div data-collection-main>
      {% paginate active_collection.products by 6 %}
        <div class="card-dev">
        {% for product in active_collection.products %}
          <article class="product-card">
            <a href="{{ product.url }}" class="product-card__image">
              {% if product.featured_image %}
                <img src="{{ product.featured_image | img_url: '480x480' }}" alt="{{ product.featured_image.alt | escape }}">
              {% else %}
                <img src="{{ 'no-image.svg' | asset_url }}" alt="No image available">
              {% endif %}
            </a>

            <div class="product-card__details">
              <h2 class="product-card__title">
                <a href="{{ product.url }}">{{ product.title }}</a>
              </h2>

              <p class="product-card__description">
                {{ product.description | strip_html | truncate: 120 }}
              </p>

              <div class="product-card__price">
                {% if product.price_varies %}
                  From {{ product.price_min | money }}
                {% else %}
                  {{ product.price | money }}
                {% endif %}
              </div>

              <form method="post" action="/cart/add" class="product-card__buy">
                <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                <input type="hidden" name="quantity" value="1">
                <button type="submit" class="btn">Buy</button>
              </form>
            </div>
          </article>
        {% endfor %}
        </div>
        <pagination-componentv1 data-section-id={{ section.id }}>
          {{- paginate | default_pagination -}}
        </pagination-componentv1>
      {% endpaginate %}
    </div>
    </div>
    
  </section>

<script src="{{ 'pagination-component-v1.js' | asset_url }}" defer></script>
<script src="{{ 'collection-filters.js' | asset_url }}" defer></script>
{% schema %}
  {
    "name": "Section Pagination",
    "settings": [
      {
        "type": "collection",
        "id": "collection",
        "label": "Please Select Collection"
      }
    ],
    "presets": [
      {
        "name": "Collection Pagination"
      }
    ]
  }
{% endschema %}
